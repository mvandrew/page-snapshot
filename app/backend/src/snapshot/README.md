# Snapshot API

API для получения снимков веб-страниц от Chrome расширения.

## Эндпоинты

### POST /api/snapshot

Создает новый снимок страницы.

#### Запрос

```json
{
  "content": {
    "html": "<html>...</html>",
    "url": "https://example.com/page",
    "title": "Page Title",
    "timestamp": "2024-01-01T12:00:00.000Z"
  },
  "userAgent": "Mozilla/5.0..."
}
```

#### Ответ

**Успешный ответ (200):**
```json
{
  "success": true,
  "message": "Снимок страницы успешно получен",
  "data": {
    "id": "snapshot_abc123_def456",
    "receivedAt": "2024-01-01T12:00:01.000Z"
  }
}
```

**Ошибка (400):**
```json
{
  "success": false,
  "message": "Ошибка обработки снимка: [описание ошибки]"
}
```

## Структура данных

### Content
- `html` (string) - Полный HTML код страницы
- `url` (string) - URL страницы
- `title` (string) - Заголовок страницы
- `timestamp` (string) - Временная метка создания снимка

### Основные поля
- `userAgent` (string) - Информация о браузере

## Валидация

- Все поля обязательны
- URL должен быть валидным
- Timestamp должен быть в формате ISO 8601
- HTML должен быть непустой строкой

## Логирование

Сервис логирует:
- URL полученной страницы
- Размер HTML контента
- User Agent
- Временные метки
- Ошибки валидации

## TODO

- [ ] Сохранение в базу данных
- [ ] Обработка HTML контента
- [ ] Извлечение метаданных
- [ ] Сжатие больших HTML
- [ ] Анализ содержимого
